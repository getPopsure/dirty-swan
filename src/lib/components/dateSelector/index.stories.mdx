import { useState } from 'react';
import { Meta, Preview } from '@storybook/addon-docs/blocks';

import DateSelector from '.';

<Meta title="JSX/Date selector" component={DateSelector} />

# Date selector

Date selector are user interface elements which allow user to select a date in the `YYYY-MM-DD` format.

<Preview>
  <iframe
    width="100%"
    height="450"
    src="https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FMKs4cbojdVOBKUxv7okb93%2FDirty-Swan-Design-System%3Fnode-id%3D293%253A169"
    allowFullScreen
  ></iframe>
</Preview>

## Default example

### Without calendar

export const DateSelectorWithoutCalendarStory = () => {
  const [date, setDate] = useState('');
  return (
    <>
      <DateSelector
        value={date}
        className="mt24"
        yearBoundaries={{ min: 2020, max: 2022 }}
        onChange={(date) => {
          setDate(date);
        }}
      />
    </>
  );
};

<DateSelectorWithoutCalendarStory />

### With calendar

export const DateSelectorWithCalendarStory = () => {
  const [date, setDate] = useState('');
  return (
    <div style={{ paddingBottom: '120px' }}>
      <DateSelector
        value={date}
        className="mt24"
        yearBoundaries={{ min: 2020, max: 2022 }}
        onChange={(date) => {
          setDate(date);
        }}
        displayCalendar={true}
      />
    </div>
  );
};

<DateSelectorWithCalendarStory />

### Localization

| attribute      | unit                                               | description                                                       | default value | required |
| -------------- | -------------------------------------------------- | ----------------------------------------------------------------- | ------------- | -------- |
| placeholders   | `{ day?: string; month: string?; year?: string; }` | Placeholder text                                                  | undefined     | false    |
| locale         | supportedDayJSLocales                              | 'en' or 'de'                                                      | 'en'          | false    |
| firstDayOfWeek | number                                             | Index of the first day of the week (0 = Sunday, 1 = Monday, etc.) | 0             | false    |

The `locale` and `firstDayOfWeek` properties are used to localize the calendar of the `DateSelector`, whereas
the `placeholders` object can be used to change the text of the different dropdowns.

Currently, only the locales 'en' and 'de' are supported - additional languages can be added in the future by importing them like
`import 'dayjs/locale/ko';`
and adding a corresponding entry in the exported `supportedDayJSLocales` type.

export const DateSelectorWithCalendarLocalizedStory = () => {
  const [date, setDate] = useState('');
  return (
    <div style={{ paddingBottom: '120px' }}>
      <DateSelector
        value={date}
        className="mt24"
        yearBoundaries={{ min: 2020, max: 2022 }}
        onChange={(date) => {
          setDate(date);
        }}
        displayCalendar={true}
        placeholders={{
          day: 'Tag',
          month: 'Monat',
          year: 'Jahr',
        }}
        locale="de"
        firstDayOfWeek={1}
      />
    </div>
  );
};

<DateSelectorWithCalendarLocalizedStory />
