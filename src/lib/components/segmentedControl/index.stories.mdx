import { useState } from 'react';

import { Meta, Preview } from '@storybook/addon-docs/blocks';

import SegmentedControl from '.';

<Meta title="JSX/SegmentedControl" />

# SegmentedControl

A segmented control is a linear set of two or more segments, each of which functions as a mutually exclusive button.

| attribute     | unit                                              | description                                          | default value | required |
| ------------- | ------------------------------------------------- | ---------------------------------------------------- | ------------- | -------- |
| values        | string[] OR { title: string; subtitle: string;}[] | Array containing the text that needs to be displayed | n/a           | true     |
| selectedIndex | number                                            | The currently selected index                         | n/a           | true     |
| onChange      | (newSelectedIndex: number) => void;               | Callback when the select index changes               | n/a           | true     |

export const SegmentedControlStory = () => {
  const [selectedFirstIndex, setSelectedFirstIndex] = useState(0);
  const [selectedSecondIndex, setSelectedSecondIndex] = useState(0);
  return (
    <Preview>
      <>
        <h1 className="p-h1">Single lined SegmentedControl</h1>
        <SegmentedControl
          className="mt8"
          values={['Earth', 'Sun', 'Moon']}
          selectedIndex={selectedFirstIndex}
          onChange={(newIndex) => setSelectedFirstIndex(newIndex)}
        />
        <h1 className="p-h1 mt24">SegmentedControl with subtitle</h1>
        <SegmentedControl
          className="mt8"
          values={[
            { title: 'Basic', subtitle: '€288,65' },
            { title: 'Premium', subtitle: '€288,65' },
          ]}
          selectedIndex={selectedSecondIndex}
          onChange={(newIndex) => setSelectedSecondIndex(newIndex)}
        />
      </>
    </Preview>
  );
};

<SegmentedControlStory />
