import { useState } from 'react';

import { Meta } from '@storybook/addon-docs/blocks';

import { BottomModal, RegularModal, BottomOrRegularModal } from '.';

<Meta title="JSX/Modals" />

# Modals

Modals are dialog overlays that prevent the user from interacting with the rest of the website until an action is taken or the dialog is dismissed. Modals are purposefully disruptive and should be used thoughtfully and sparingly.

<Preview>
  <iframe
    width="100%"
    height="450"
    src="https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FMKs4cbojdVOBKUxv7okb93%2FDirty-Swan-Design-System%3Fnode-id%3D283%253A1"
    allowfullscreen
  ></iframe>
</Preview>

| attribute   | unit                  | description                                                                            | default value | required |
| ----------- | --------------------- | -------------------------------------------------------------------------------------- | ------------- | -------- |
| title       | string                | The title that needs to be displayed on the modal                                      | n/a           | true     |
| isOpen      | boolean               | When set to `true`, the modal is displayed. When set to `false` the modal gets removed | n/a           | true     |
| onClose     | `function () => void` | Callback when the user close the modal                                                 | n/a           | true     |
| children    | React.jsx             | The content that gets displayed on the modal                                           | n/a           | true     |
| className   | string                | Any additional className                                                               | n/a           | false    |
| dismissible | boolean               | When set to `false` prevents the user from closing the modal                     | true          | false    |

export const RegularModalStory = () => {
  const [display, setDisplay] = useState(false);
  return (
    <>
      <button
        className="p-btn--primary wmn2"
        onClick={() => {
          setDisplay(!display);
        }}
      >
        Regular modal
      </button>
      <RegularModal
        title="Regular modal title"
        isOpen={display}
        onClose={() => {
          setDisplay(false);
        }}
      >
        <div style={{ padding: '0 24px 24px 24px' }}>
          <p className="p-p">
            This is a regular modal that is mostly meant to be used on desktop.
            Need to use it on mobile? Check my friend BottomModal instead! Not
            sure? Just use BottomOrRegularModal <br /> Do you like this modal?
            Tell us by answering this short survey!
          </p>
          <div className="p-label-container wmx4">
            <input id="bordered-1" className="p-radio" type="radio" />
            <label htmlFor="bordered-1" className="p-label p-label--bordered">
              Yes
            </label>
            <input id="bordered-2" className="p-radio" type="radio" />
            <label
              htmlFor="bordered-2"
              className="p-label p-label--bordered mt16"
            >
              No
            </label>
          </div>
          <button
            className="p-btn--primary mt24 wmn3"
            onClick={() => setDisplay(false)}
          >
            Continue
          </button>
        </div>
      </RegularModal>
    </>
  );
};

export const BottomModalStory = () => {
  const [display, setDisplay] = useState(false);
  return (
    <>
      <button
        className="p-btn--primary wmn2 d-block"
        onClick={() => {
          setDisplay(!display);
        }}
      >
        Bottom modal
      </button>
      <BottomModal
        title="Bottom modal title"
        isOpen={display}
        onClose={() => {
          setDisplay(false);
        }}
      >
        <div style={{ padding: '0 16px 16px 16px' }}>
          <p className="p-p">
            This is a bottom modal that is mostly meant to be used on mobile, do
            you like this modal? Tell us by answering this short survey!
          </p>
          <div className="p-label-container wmx4">
            <input id="bordered-1" className="p-radio" type="radio" />
            <label htmlFor="bordered-1" className="p-label p-label--bordered">
              Yes
            </label>
            <input id="bordered-2" className="p-radio" type="radio" />
            <label
              htmlFor="bordered-2"
              className="p-label p-label--bordered mt16"
            >
              No
            </label>
          </div>
          <button
            className="p-btn--primary mt24 wmn3"
            onClick={() => setDisplay(false)}
          >
            Continue
          </button>
        </div>
      </BottomModal>
    </>
  );
};

## Regular modal

Regular modals are primary meant to be used on Desktop or Tablet environment. The modal will appear in the middle of the screen and the user will be able to dismiss them using the top left "X" icon.

If you want to use it for Mobile only, you should check [Bottom modal](##Bottom-modal) instead.

Want to use either Regular Modal or Bottom Modal based on the screen width? You can use [Bottom or Regular modal](##Bottom-or-Regular-modal).

<RegularModalStory />

```typescript
import React, { useState } from 'react';
import { BottomModal } from '@popsure/dirty-swan';

export default () => {
  const [display, setDisplay] = useState(false);

  return (
    <>
      <button
        className="p-btn--primary wmn2 d-block"
        onClick={() => {
          setDisplay(!display);
        }}
      >
        Bottom modal
      </button>
      <BottomModal
        title="Bottom modal title"
        isOpen={display}
        onClose={() => {
          setDisplay(false);
        }}
      >
        <div style={{ padding: '0 16px 16px 16px' }}>
          <p className="p-p">
            This is a bottom modal that is mostly meant to be used on mobile, do
            you like this modal? Tell us by answering this short survey!
          </p>
          <div className="p-label-container wmx4">
            <input id="bordered-1" className="p-radio" type="radio" />
            <label htmlFor="bordered-1" className="p-label p-label--bordered">
              Yes
            </label>
            <input id="bordered-2" className="p-radio" type="radio" />
            <label
              htmlFor="bordered-2"
              className="p-label p-label--bordered mt16"
            >
              No
            </label>
          </div>
          <button
            className="p-btn--primary mt24 wmn3"
            onClick={() => setDisplay(false)}
          >
            Continue
          </button>
        </div>
      </BottomModal>
    </>
  );
};
```

## Bottom modal

Regular modals are primary meant to be used on Mobile environment. The modal will appear from the bottom of the screen and the user will be able to dismiss them using the top left "X" icon.

If you want to use it for Desktop only, you should check [Regular modal](##Regular-modal) instead.

Want to use either Regular Modal or Bottom Modal based on the screen width? You can use [Bottom or Regular modal](##Bottom-or-Regular-modal).

<BottomModalStory />

```typescript
import React, { useState } from 'react';
import { BottomModal } from '@popsure/dirty-swan';

export default () => {
  const [display, setDisplay] = useState(false);

  return (
    <>
      <button
        className="p-btn--primary wmn2 d-block"
        onClick={() => {
          setDisplay(!display);
        }}
      >
        Bottom modal
      </button>
      <BottomModal
        title="Bottom modal title"
        isOpen={display}
        onClose={() => {
          setDisplay(false);
        }}
      >
        <div style={{ padding: '0 16px 16px 16px' }}>
          <p className="p-p">
            This is a bottom modal that is mostly meant to be used on mobile, do
            you like this modal? Tell us by answering this short survey!
          </p>
          <div className="p-label-container wmx4">
            <input id="bordered-1" className="p-radio" type="radio" />
            <label htmlFor="bordered-1" className="p-label p-label--bordered">
              Yes
            </label>
            <input id="bordered-2" className="p-radio" type="radio" />
            <label
              htmlFor="bordered-2"
              className="p-label p-label--bordered mt16"
            >
              No
            </label>
          </div>
          <button
            className="p-btn--primary mt24 wmn3"
            onClick={() => setDisplay(false)}
          >
            Continue
          </button>
        </div>
      </BottomModal>
    </>
  );
};
```

## Bottom or Regular modal

Bottom or Regular modal will automatically choose whatâ€™s best to display based on the users screen width.

## Required modal

Setting the `dismissible` prop to false will hide the close button and prevent the user from closing it using the escape key or clicking outside.
This prop can be useful if we want the user to explicitly interact with the modal options.

**Warning:** a modal with the `dismissible` prop can only be closed by changing the `isOpen` prop to `false`.
